{"version":3,"sources":["containers/addressBook/contactForm/contactForm.reducer.tsx","components/button/button.presenter.tsx","containers/signIn/signIn.container.tsx","components/avatarPlaceholder/avatarPlaceholder.presenter.tsx","containers/addressBook/contactsList/contactsList.presenter.tsx","components/input/input.presenter.tsx","components/loader/loader.presenter.tsx","containers/addressBook/contactForm/addressArea/addressArea.presenter.tsx","containers/addressBook/contactForm/contactForm.helper.ts","containers/addressBook/contactForm/contactForm.container.tsx","containers/addressBook/transactionForm/feeEstimate/feeEstimate.presenter.tsx","containers/addressBook/transactionForm/transactionForm.helper.ts","containers/addressBook/transactionForm/transactionForm.container.tsx","containers/addressBook/addressBook.container.tsx","app.tsx","reportWebVitals.ts","index.tsx"],"names":["Actions","Button","children","actionType","isDisabled","onClick","className","classNames","btn__disabled","type","disabled","SignIn","activateBrowserWallet","useEthers","width","alt","src","getInitials","name","split","map","word","toUpperCase","slice","AvatarPlaceholder","ContactsList","contacts","onAddNewContact","onSelectContact","contact","Input","label","id","value","error","onChange","htmlFor","required","Loader","text","actionCreators","UPDATE_NAME","payload","address","UPDATE_ADDRESS","ensName","UPDATE_ENS_NAME","addressInputType","selectedContact","SELECT_ADDRESS_INPUT_TYPE","reducer","state","action","editedContact","isDirtyMap","AddressArea","formErrors","dispatch","event","target","resolveEnsNameAddress","a","provider","providers","EtherscanProvider","process","resolveName","console","log","undefined","ContactForm","formMode","onSave","onDelete","useReducer","getInitialState","useState","isLoadingEns","setIsLoadingEns","isSaveDisabled","setFormErrors","useEffect","initialContact","allContacts","utils","isAddress","find","validateForm","onSubmit","preventDefault","then","FeeEstimate","isLoadingFee","fee","eth","nzd","estimateTransactionFee","amount","ethPrice","etherscanProvider","Promise","all","estimateGas","to","parseEther","toString","getGasPrice","estimatedGas","gasPrice","transactionFee","formatEther","mul","transactionFeeNzd","Number","parseFloat","toFixed","TransactionForm","onEditContact","setAmount","isMining","setIsMining","setIsLoadingFee","setFee","useSendTransaction","sendTransaction","account","etherBalance","useEtherBalance","useCoingeckoPrice","isDirty","useRef","useMemo","isSendDisabled","message","parseUnits","gt","current","status","newAmount","isNaN","sortAlphabetically","b","localeCompare","filterOutCurrentContact","currentContact","parsedContact","AddressBook","mode","setMode","setSelectedContact","storedContacts","localStorage","getItem","parsedContacts","JSON","parse","setItem","stringify","sort","filter","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","catch","ReactDOM","render","StrictMode","DAppProvider","config","document","getElementById"],"mappings":"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","file":"static/js/main.9c176e2f.chunk.js","sourcesContent":["import type { Contact } from '../contactsList/contactsList.presenter'\n\nexport interface FormErrors {\n  readonly name?: string\n  readonly address?: string\n  readonly ensName?: string\n  readonly isSaveDisabled: boolean\n}\n\nexport type FormMode = 'add' | 'edit'\nexport type AddressInputType = 'address' | 'ensName'\n\nexport type IsDirtyMap = { [Property in keyof Contact]: boolean }\n\ninterface State {\n  editedContact: Contact\n  isDirtyMap: IsDirtyMap\n  addressInputType: AddressInputType\n}\n\nexport const getInitialState = (selectedContact?: Contact): State => ({\n  editedContact: selectedContact ?? {\n    name: '',\n    address: '',\n    ensName: '',\n  },\n  isDirtyMap: {\n    name: false,\n    address: false,\n    ensName: false,\n  },\n  addressInputType: 'address',\n})\n\nenum Actions {\n  UPDATE_NAME,\n  UPDATE_ADDRESS,\n  UPDATE_ENS_NAME,\n  SELECT_ADDRESS_INPUT_TYPE,\n}\n\nexport const actionCreators = {\n  updateName: (\n    name: string,\n  ): { type: Actions.UPDATE_NAME; payload: { name: string } } => ({\n    type: Actions.UPDATE_NAME as const,\n    payload: { name },\n  }),\n  updateAddress: (\n    address: string,\n  ): { type: Actions.UPDATE_ADDRESS; payload: { address: string } } => ({\n    type: Actions.UPDATE_ADDRESS as const,\n    payload: { address },\n  }),\n  updateEnsName: (\n    ensName: string,\n  ): { type: Actions.UPDATE_ENS_NAME; payload: { ensName: string } } => ({\n    type: Actions.UPDATE_ENS_NAME as const,\n    payload: { ensName },\n  }),\n  selectAddressInputType: (\n    addressInputType: AddressInputType,\n    selectedContact?: Contact,\n  ): {\n    type: Actions.SELECT_ADDRESS_INPUT_TYPE\n    payload: { addressInputType: AddressInputType; selectedContact?: Contact }\n  } => ({\n    type: Actions.SELECT_ADDRESS_INPUT_TYPE as const,\n    payload: { addressInputType, selectedContact },\n  }),\n}\n\nexport type Action =\n  | ReturnType<typeof actionCreators.updateName>\n  | ReturnType<typeof actionCreators.updateAddress>\n  | ReturnType<typeof actionCreators.updateEnsName>\n  | ReturnType<typeof actionCreators.selectAddressInputType>\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case Actions.UPDATE_NAME: {\n      const { name } = action.payload\n      return {\n        ...state,\n        editedContact: {\n          ...state.editedContact,\n          name,\n        },\n        isDirtyMap: {\n          ...state.isDirtyMap,\n          name: true,\n        },\n      }\n    }\n\n    case Actions.UPDATE_ADDRESS: {\n      const { address } = action.payload\n      return {\n        ...state,\n        editedContact: {\n          ...state.editedContact,\n          address,\n        },\n        isDirtyMap: {\n          ...state.isDirtyMap,\n          address: true,\n        },\n      }\n    }\n\n    case Actions.UPDATE_ENS_NAME: {\n      const { ensName } = action.payload\n      return {\n        ...state,\n        editedContact: {\n          ...state.editedContact,\n          ensName,\n        },\n        isDirtyMap: {\n          ...state.isDirtyMap,\n          ensName: true,\n        },\n      }\n    }\n\n    case Actions.SELECT_ADDRESS_INPUT_TYPE: {\n      const { addressInputType, selectedContact } = action.payload\n\n      if (addressInputType === 'address') {\n        return {\n          ...state,\n          addressInputType,\n          editedContact: {\n            ...state.editedContact,\n            ensName: selectedContact?.ensName ?? '',\n          },\n          isDirtyMap: {\n            ...state.isDirtyMap,\n            ensName: false,\n          },\n        }\n      }\n\n      if (addressInputType === 'ensName') {\n        return {\n          ...state,\n          addressInputType,\n          editedContact: {\n            ...state.editedContact,\n            address: selectedContact?.address ?? '',\n          },\n          isDirtyMap: {\n            ...state.isDirtyMap,\n            address: false,\n          },\n        }\n      }\n\n      return state\n    }\n\n    default:\n      return state\n  }\n}\n","import * as React from 'react'\nimport classNames from 'classnames'\n\nimport './button.styles.css'\n\ntype ActionType = 'primary' | 'secondary' | 'tertiary' | 'link'\n\ninterface Props {\n  readonly children: React.ReactNode\n  readonly actionType?: ActionType\n  readonly isDisabled?: boolean\n  readonly onClick: (event: React.MouseEvent) => void\n}\n\nconst Button = ({\n  children,\n  actionType = 'primary',\n  isDisabled,\n  onClick,\n}: Props): JSX.Element => (\n  <button\n    className={classNames('btn', `btn--${actionType}`, {\n      btn__disabled: isDisabled,\n    })}\n    onClick={onClick}\n    type=\"button\"\n    disabled={isDisabled}>\n    {children}\n  </button>\n)\n\nexport default Button\n","import { useEthers } from '@usedapp/core'\n\nimport Button from 'src/components/button/button.presenter'\n\nimport './signIn.styles.css'\n\nconst SignIn = (): JSX.Element => {\n  const { activateBrowserWallet } = useEthers()\n\n  return (\n    <section className=\"sign-in\">\n      <img\n        width=\"256\"\n        alt=\"MetaMask Fox\"\n        src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/MetaMask_Fox.svg/256px-MetaMask_Fox.svg.png\"\n      />\n\n      <h1>Crypto address book</h1>\n      <p className=\"sign-in--text\">\n        The easiest and quickest way to manage and pay your contacts. <br />{' '}\n        Connect yout wallet to begin.\n      </p>\n      <Button\n        actionType=\"primary\"\n        onClick={() => {\n          activateBrowserWallet()\n        }}>\n        Connect Wallet\n      </Button>\n    </section>\n  )\n}\n\nexport default SignIn\n","import './avatarPlaceholder.styles.css'\n\ninterface Props {\n  readonly name: string\n}\n\nconst getInitials = (name: string) =>\n  name\n    .split(' ')\n    .map((word: string) => word[0]?.toUpperCase())\n    .slice(0, 2)\n\nconst AvatarPlaceholder = ({ name }: Props): JSX.Element => (\n  <div className=\"avatar-placeholder\">{getInitials(name)}</div>\n)\n\nexport default AvatarPlaceholder\n","import AvatarPlaceholder from 'src/components/avatarPlaceholder/avatarPlaceholder.presenter'\nimport Button from 'src/components/button/button.presenter'\n\nimport './contactList.styles.css'\n\nexport interface Contact {\n  readonly name: string\n  readonly address: string\n  readonly ensName?: string\n}\n\ninterface Props {\n  readonly contacts: Contact[]\n  readonly onAddNewContact: () => void\n  readonly onSelectContact: (contact: Contact) => void\n}\n\nconst ContactsList = ({\n  contacts,\n  onAddNewContact,\n  onSelectContact,\n}: Props): JSX.Element => (\n  <div className=\"contact-list\">\n    <h1>Address Book</h1>\n\n    <Button actionType=\"link\" onClick={onAddNewContact}>\n      <div className=\"contact-list--new-contact\">\n        <div>+</div>\n        <div>New Contact</div>\n      </div>\n    </Button>\n\n    <div className=\"contact-list--contacts\">\n      {contacts.map((contact: Contact) => (\n        <Button\n          key={contact.name}\n          actionType=\"link\"\n          onClick={() => {\n            onSelectContact(contact)\n          }}>\n          <AvatarPlaceholder name={contact.name} />\n          <span className=\"contact-card--name\">{contact.name}</span>\n        </Button>\n      ))}\n    </div>\n  </div>\n)\n\nexport default ContactsList\n","import * as React from 'react'\n\nimport './input.styles.css'\n\ninterface Props {\n  readonly label: string\n  readonly id: string\n  readonly type: 'text' | 'number'\n  readonly value: string | number\n  readonly error?: string\n  readonly onChange: (event: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nconst Input = ({\n  label,\n  id,\n  value,\n  type,\n  error,\n  onChange,\n}: Props): JSX.Element => (\n  <label htmlFor={id} className={`input ${error ? 'input__error' : ''}`}>\n    <span>{label}</span>\n    <input\n      type={type}\n      id={id}\n      value={value}\n      onChange={onChange}\n      required={!!error}\n    />\n    <span>{error}</span>\n  </label>\n)\n\nexport default Input\n","import './loader.styles.css'\n\ninterface Props {\n  readonly text?: string\n}\n\nconst Loader = ({ text }: Props): JSX.Element => (\n  <div className=\"loader--container\">\n    <div className=\"loader--spinner\" />\n    <span>{text}</span>\n  </div>\n)\n\nexport default Loader\n","import { Fragment } from 'react'\nimport type { ChangeEvent, Dispatch } from 'react'\n\nimport Button from 'src/components/button/button.presenter'\nimport Input from 'src/components/input/input.presenter'\n\nimport { actionCreators } from '../contactForm.reducer'\nimport type {\n  Action,\n  FormErrors,\n  AddressInputType,\n} from '../contactForm.reducer'\nimport type { Contact } from '../../contactsList/contactsList.presenter'\nimport './addressArea.styles.css'\n\ninterface Props {\n  addressInputType: AddressInputType\n  selectedContact?: Contact\n  editedContact: Contact\n  formErrors: FormErrors\n  dispatch: Dispatch<Action>\n}\nconst AddressArea = ({\n  addressInputType,\n  selectedContact,\n  editedContact,\n  formErrors,\n  dispatch,\n}: Props): JSX.Element => (\n  <Fragment>\n    {/* Button to switch between Address and ENS Name */}\n    <div className={`address-area--address-type-switch ${addressInputType}`}>\n      <Button\n        actionType=\"link\"\n        onClick={() => {\n          dispatch(\n            actionCreators.selectAddressInputType('address', selectedContact),\n          )\n        }}>\n        Address\n      </Button>\n      <Button\n        actionType=\"link\"\n        onClick={() => {\n          dispatch(\n            actionCreators.selectAddressInputType('ensName', selectedContact),\n          )\n        }}>\n        ENS\n      </Button>\n    </div>\n\n    {addressInputType === 'address' && (\n      <Input\n        label=\"Address\"\n        id=\"address\"\n        type=\"text\"\n        value={editedContact.address}\n        error={formErrors.address}\n        onChange={(event: ChangeEvent<HTMLInputElement>) => {\n          dispatch(actionCreators.updateAddress(event.target.value))\n        }}\n      />\n    )}\n\n    {addressInputType === 'ensName' && (\n      <Input\n        label=\"ENS Name\"\n        id=\"ensName\"\n        type=\"text\"\n        value={editedContact.ensName ?? ''}\n        error={formErrors.ensName}\n        onChange={(event: ChangeEvent<HTMLInputElement>) => {\n          dispatch(actionCreators.updateEnsName(event.target.value))\n        }}\n      />\n    )}\n  </Fragment>\n)\n\nexport default AddressArea\n","import { utils, providers } from 'ethers'\n\nimport type { Contact } from '../contactsList/contactsList.presenter'\nimport type { FormErrors, FormMode, IsDirtyMap } from './contactForm.reducer'\n\nexport const validateForm = (\n  editedContact: Contact,\n  isDirtyMap: IsDirtyMap,\n  formMode: FormMode,\n  initialContact?: Contact,\n  allContacts?: Contact[],\n  // It's more readable to have all these rules in one place\n  // eslint-disable-next-line sonarjs/cognitive-complexity\n): FormErrors => {\n  let formErrors: FormErrors = {\n    isSaveDisabled: false,\n  }\n\n  // If an address is invalid, return error message\n  if (isDirtyMap.address && !utils.isAddress(editedContact.address)) {\n    formErrors = {\n      ...formErrors,\n      address: 'Please enter a valid Ethereum address',\n      isSaveDisabled: true,\n    }\n  }\n\n  // If name is empty disable saving and show error message if form dirty\n  if (editedContact.name === '') {\n    formErrors = {\n      ...formErrors,\n      name:\n        isDirtyMap.name && editedContact.name === ''\n          ? 'Please enter a name'\n          : undefined,\n      isSaveDisabled: true,\n    }\n  }\n\n  // If address is empty disable saving and show error message if form dirty\n  if (isDirtyMap.address && editedContact.address === '') {\n    formErrors = {\n      ...formErrors,\n      address:\n        editedContact.address === '' ? 'Please enter an address' : undefined,\n      isSaveDisabled: true,\n    }\n  }\n\n  // If ensName is empty disable saving and show error message if form dirty\n  if (isDirtyMap.ensName && editedContact.ensName === '') {\n    formErrors = {\n      ...formErrors,\n      ensName:\n        editedContact.ensName === '' ? 'Please enter an ENS name' : undefined,\n      isSaveDisabled: true,\n    }\n  }\n\n  // Either address or ensName needs to be filled\n  if (editedContact.address === '' && editedContact.ensName === '') {\n    formErrors = {\n      ...formErrors,\n      isSaveDisabled: true,\n    }\n  }\n\n  // If a contact with the same names exists, return error messae\n  if (\n    isDirtyMap.name &&\n    editedContact.name !== initialContact?.name &&\n    allContacts?.find((contact: Contact) => contact.name === editedContact.name)\n  ) {\n    formErrors = {\n      ...formErrors,\n      name: `${editedContact.name} already exists`,\n      isSaveDisabled: true,\n    }\n  }\n\n  // If the form has not changed, disable saving\n  if (!isDirtyMap.name && !isDirtyMap.address && !isDirtyMap.ensName) {\n    formErrors = {\n      ...formErrors,\n      isSaveDisabled: true,\n    }\n  }\n\n  // If the edit form is back to initial values, disable saving\n  if (\n    formMode === 'edit' &&\n    editedContact.name === initialContact?.name &&\n    editedContact.address === initialContact?.address &&\n    editedContact.ensName === initialContact?.ensName\n  ) {\n    formErrors = {\n      ...formErrors,\n      isSaveDisabled: true,\n    }\n  }\n\n  return formErrors\n}\n\nexport const resolveEnsNameAddress = async (\n  ensName: string,\n): Promise<string | undefined> => {\n  try {\n    const provider = new providers.EtherscanProvider(\n      'rinkeby',\n      // In prod would have to hide the API key better\n      process.env.REACT_APP_ETHERSCAN_API_KEY,\n    )\n    return provider.resolveName(ensName)\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log('error while resolving ens name', error)\n  }\n  return undefined\n}\n","import { useState, useEffect, useReducer } from 'react'\nimport type { FormEvent, ChangeEvent } from 'react'\n\nimport Button from 'src/components/button/button.presenter'\nimport Input from 'src/components/input/input.presenter'\nimport Loader from 'src/components/loader/loader.presenter'\nimport type { Contact } from '../contactsList/contactsList.presenter'\n\nimport AddressArea from './addressArea/addressArea.presenter'\nimport { validateForm, resolveEnsNameAddress } from './contactForm.helper'\nimport { reducer, getInitialState, actionCreators } from './contactForm.reducer'\nimport type { FormErrors, FormMode } from './contactForm.reducer'\nimport './contactForm.styles.css'\n\ninterface Props {\n  readonly formMode: FormMode\n  readonly contacts?: Contact[]\n  readonly selectedContact?: Contact\n  readonly onSave: (contact: Contact) => void\n  readonly onDelete?: () => void\n}\n\nconst ContactForm = ({\n  formMode,\n  contacts,\n  selectedContact,\n  onSave,\n  onDelete,\n}: Props): JSX.Element => {\n  const [state, dispatch] = useReducer(\n    reducer,\n    getInitialState(selectedContact),\n  )\n  const [isLoadingEns, setIsLoadingEns] = useState(false)\n  const [formErrors, setFormErrors] = useState<FormErrors>({\n    isSaveDisabled: false,\n  })\n\n  useEffect(() => {\n    setFormErrors(\n      validateForm(\n        state.editedContact,\n        state.isDirtyMap,\n        formMode,\n        selectedContact,\n        contacts,\n      ),\n    )\n  }, [state, formMode, selectedContact, contacts])\n\n  return (\n    <div className=\"contact-form--container\">\n      <h1 className=\"contact-form--header\">\n        {formMode === 'edit' ? 'Edit' : 'New'} Contact\n      </h1>\n\n      <form\n        onSubmit={(event: FormEvent<HTMLFormElement>) => {\n          event.preventDefault()\n        }}\n        className=\"contact-form--form\">\n        <Input\n          label=\"Name\"\n          id=\"name\"\n          type=\"text\"\n          value={state.editedContact.name}\n          error={formErrors.name}\n          onChange={(event: ChangeEvent<HTMLInputElement>) => {\n            dispatch(actionCreators.updateName(event.target.value))\n          }}\n        />\n\n        <AddressArea\n          addressInputType={state.addressInputType}\n          selectedContact={selectedContact}\n          editedContact={state.editedContact}\n          formErrors={formErrors}\n          dispatch={dispatch}\n        />\n\n        <div className=\"contact-form--form--actions\">\n          {formMode === 'edit' && (\n            <Button\n              actionType=\"tertiary\"\n              onClick={() => {\n                if (onDelete) {\n                  onDelete()\n                }\n              }}>\n              Delete Contact\n            </Button>\n          )}\n\n          <Button\n            actionType=\"primary\"\n            isDisabled={formErrors.isSaveDisabled}\n            onClick={() => {\n              if (state.editedContact) {\n                // If using ENS Name we have to resolve it to check if it's valid\n                // In case of address, the validation is handled on type\n                if (\n                  state.addressInputType === 'ensName' &&\n                  state.editedContact.ensName\n                ) {\n                  setIsLoadingEns(true)\n                  void resolveEnsNameAddress(state.editedContact.ensName).then(\n                    (address?: string) => {\n                      if (address) {\n                        onSave({\n                          ...state.editedContact,\n                          address,\n                        })\n                      }\n\n                      setFormErrors({\n                        ...formErrors,\n                        ensName: 'Provided ENS name was not recognised',\n                        isSaveDisabled: true,\n                      })\n                      setIsLoadingEns(false)\n                    },\n                  )\n                } else {\n                  onSave(state.editedContact)\n                }\n              }\n            }}>\n            Save\n          </Button>\n\n          <div className=\"contact-form--loader\">\n            {isLoadingEns && <Loader text=\"Checking ENS name\" />}\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default ContactForm\n","import Loader from 'src/components/loader/loader.presenter'\n\nimport { Fee } from '../transactionForm.helper'\n\ninterface Props {\n  fee?: Fee\n  isLoadingFee: boolean\n}\n\nconst FeeEstimate = ({ isLoadingFee, fee }: Props): JSX.Element => {\n  if (fee === undefined && !isLoadingFee) {\n    return <span>Enter amount to see the estimated tx fee</span>\n  }\n\n  if (isLoadingFee) {\n    return <Loader text=\"Estimating tx fee... \" />\n  }\n\n  return (\n    <span>\n      Estimated tx fee: {fee?.eth.slice(0, 8)} ETH,{' '}\n      {fee?.nzd && `$${fee.nzd} NZD`}\n    </span>\n  )\n}\n\nexport default FeeEstimate\n","import { utils, providers, BigNumber } from 'ethers'\n\nexport interface Fee {\n  eth: string\n  nzd?: string\n}\n\nexport interface FormErrors {\n  message?: string\n  isSendDisabled?: boolean\n}\n\nexport const validateForm = (\n  isDirty: boolean,\n  amount?: number,\n  etherBalance?: BigNumber,\n): FormErrors => {\n  let formErrors: FormErrors = {\n    isSendDisabled: false,\n  }\n\n  // If amount 0\n  if (amount === 0) {\n    formErrors = {\n      isSendDisabled: true,\n    }\n  }\n\n  // If amount empty\n  if (isDirty && !amount) {\n    formErrors = {\n      ...formErrors,\n      isSendDisabled: true,\n      message: 'Please enter amount',\n    }\n  }\n\n  // If insufficient balance\n  if (\n    isDirty &&\n    etherBalance &&\n    amount &&\n    utils.parseUnits(amount.toString(), 'ether').gt(etherBalance)\n  ) {\n    formErrors = {\n      isSendDisabled: true,\n      message: `Please come back from the moon.`,\n    }\n  }\n\n  return formErrors\n}\n\nexport const estimateTransactionFee = async (\n  amount: number,\n  address: string,\n  ethPrice?: string,\n): Promise<Fee | undefined> => {\n  const etherscanProvider = new providers.EtherscanProvider(\n    'rinkeby',\n    // In prod would have to hide the API key better\n    process.env.REACT_APP_ETHERSCAN_API_KEY,\n  )\n\n  try {\n    const [estimatedGas, gasPrice] = await Promise.all([\n      etherscanProvider.estimateGas({\n        to: address,\n        value: utils.parseEther(amount.toString()),\n      }),\n      etherscanProvider.getGasPrice(),\n    ])\n\n    const transactionFee = utils.formatEther(estimatedGas.mul(gasPrice))\n    const transactionFeeNzd =\n      ethPrice &&\n      (Number.parseFloat(transactionFee) * Number.parseFloat(ethPrice))\n        .toFixed(2)\n        .toString()\n\n    return {\n      eth: transactionFee,\n      nzd: transactionFeeNzd,\n    }\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log('error while estimating gas', error)\n  }\n\n  return undefined\n}\n","import React, { useState, useEffect, useMemo, useRef } from 'react'\nimport { useSendTransaction, useEthers, useEtherBalance } from '@usedapp/core'\nimport { useCoingeckoPrice } from '@usedapp/coingecko'\nimport { utils } from 'ethers'\n\nimport AvatarPlaceholder from 'src/components/avatarPlaceholder/avatarPlaceholder.presenter'\nimport Input from 'src/components/input/input.presenter'\nimport Button from 'src/components/button/button.presenter'\nimport Loader from 'src/components/loader/loader.presenter'\n\nimport FeeEstimate from './feeEstimate/feeEstimate.presenter'\nimport { validateForm, estimateTransactionFee } from './transactionForm.helper'\nimport type { Fee, FormErrors } from './transactionForm.helper'\nimport type { Contact } from '../contactsList/contactsList.presenter'\nimport './transactionForm.styles.css'\n\ninterface Props {\n  readonly contact: Contact\n  readonly onEditContact: () => void\n}\n\nconst TransactionForm = ({ contact, onEditContact }: Props): JSX.Element => {\n  const [amount, setAmount] = useState<number | undefined>()\n  const [isMining, setIsMining] = useState(false)\n  const [isLoadingFee, setIsLoadingFee] = useState(false)\n  const [fee, setFee] = useState<Fee | undefined>()\n\n  const { sendTransaction, state } = useSendTransaction()\n  const { account } = useEthers()\n  const etherBalance = useEtherBalance(account)\n  const ethPrice: string | undefined = useCoingeckoPrice('ethereum', 'nzd')\n\n  const isDirty = useRef(false)\n  const formErrors: FormErrors = useMemo(\n    () => validateForm(isDirty.current, amount, etherBalance),\n    [isDirty, amount, etherBalance],\n  )\n\n  useEffect(() => {\n    if (state.status !== 'Mining') {\n      setIsMining(false)\n      setAmount(0)\n    }\n  }, [state])\n\n  useEffect(() => {\n    void (async () => {\n      if (amount) {\n        setIsLoadingFee(true)\n        const transactionFee = await estimateTransactionFee(\n          amount,\n          contact.address,\n          ethPrice,\n        )\n        setFee(transactionFee)\n        setIsLoadingFee(false)\n      }\n    })()\n  }, [amount, contact.address, ethPrice])\n\n  return (\n    <div className=\"transaction-form\">\n      <div className=\"transaction-form--contact-data\">\n        <h1>Send to {contact.name}</h1>\n        <div className=\"transaction-form--address\">{contact.address}</div>\n\n        <AvatarPlaceholder name={contact.name} />\n        <Button\n          actionType=\"link\"\n          onClick={() => {\n            onEditContact()\n          }}>\n          edit contact\n        </Button>\n      </div>\n\n      <form\n        onSubmit={(event: React.FormEvent<HTMLFormElement>) => {\n          event.preventDefault()\n        }}\n        className=\"transaction-form--form\">\n        <Input\n          label=\"Transaction amount\"\n          id=\"transactionAmount\"\n          value={amount ?? ''}\n          type=\"number\"\n          error={formErrors.message}\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n            const newAmount = Number.parseFloat(event.target.value)\n            setAmount(Number.isNaN(newAmount) ? undefined : newAmount)\n            isDirty.current = true\n          }}\n        />\n\n        <div className=\"transaction-form--fee\">\n          <FeeEstimate isLoadingFee={isLoadingFee} fee={fee} />\n        </div>\n\n        <div>\n          <Button\n            actionType=\"primary\"\n            isDisabled={isMining || formErrors.isSendDisabled}\n            onClick={() => {\n              setIsMining(true)\n              if (amount) {\n                void sendTransaction({\n                  to: contact.address,\n                  value: utils.parseEther(amount.toString()),\n                })\n              }\n            }}>\n            Send\n          </Button>\n        </div>\n      </form>\n\n      <div className=\"transaction-form--mining-loader\">\n        {isMining && <Loader text=\"Mining in progress...\" />}\n      </div>\n    </div>\n  )\n}\n\nexport default TransactionForm\n","import { useState } from 'react'\n\nimport ContactsList from './contactsList/contactsList.presenter'\nimport ContactForm from './contactForm/contactForm.container'\nimport TransactionForm from './transactionForm/transactionForm.container'\nimport type { Contact } from './contactsList/contactsList.presenter'\n\nimport './addressBook.styles.css'\n\nconst sortAlphabetically = (a: Contact, b: Contact) =>\n  a.name.localeCompare(b.name)\n\nconst filterOutCurrentContact = (currentContact?: Contact) => (\n  parsedContact: Contact,\n) => parsedContact.name !== currentContact?.name\n\ntype Mode = 'add' | 'edit' | 'transaction' | 'placeholder'\n\nconst AddressBook = (): JSX.Element => {\n  const [mode, setMode] = useState<Mode>('placeholder')\n  const [selectedContact, setSelectedContact] = useState<Contact | undefined>()\n\n  const storedContacts = localStorage.getItem('contacts')\n  const parsedContacts = storedContacts\n    ? (JSON.parse(storedContacts) as Contact[])\n    : []\n\n  return (\n    <div className=\"address-book\">\n      <div className=\"address-book--left\">\n        <ContactsList\n          contacts={parsedContacts}\n          onAddNewContact={() => {\n            setSelectedContact(undefined)\n            setMode('add')\n          }}\n          onSelectContact={(contact: Contact) => {\n            setSelectedContact(contact)\n            setMode('transaction')\n          }}\n        />\n      </div>\n\n      <div className=\"address-book--right\">\n        {mode === 'add' && (\n          <ContactForm\n            formMode=\"add\"\n            contacts={parsedContacts}\n            onSave={(contact: Contact) => {\n              localStorage.setItem(\n                'contacts',\n                JSON.stringify(\n                  [...parsedContacts, contact].sort(sortAlphabetically),\n                ),\n              )\n              setMode('placeholder')\n            }}\n          />\n        )}\n\n        {mode === 'edit' && (\n          <ContactForm\n            formMode=\"edit\"\n            contacts={parsedContacts}\n            selectedContact={selectedContact}\n            onSave={(contact: Contact) => {\n              localStorage.setItem(\n                'contacts',\n                JSON.stringify(\n                  [\n                    ...parsedContacts.filter(\n                      filterOutCurrentContact(selectedContact),\n                    ),\n                    contact,\n                  ].sort(sortAlphabetically),\n                ),\n              )\n              setMode('placeholder')\n            }}\n            onDelete={() => {\n              localStorage.setItem(\n                'contacts',\n                JSON.stringify(\n                  [\n                    ...parsedContacts.filter(\n                      filterOutCurrentContact(selectedContact),\n                    ),\n                  ].sort(sortAlphabetically),\n                ),\n              )\n              setMode('placeholder')\n            }}\n          />\n        )}\n\n        {mode === 'transaction' && selectedContact && (\n          <TransactionForm\n            key={selectedContact.name}\n            contact={selectedContact}\n            onEditContact={() => {\n              setMode('edit')\n            }}\n          />\n        )}\n\n        {mode === 'placeholder' && (\n          <div className=\"address-book--right--placeholder\">\n            Select a contact or add a new one to begin.\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default AddressBook\n","import { useEthers } from '@usedapp/core'\n\nimport SignIn from 'src/containers/signIn/signIn.container'\nimport AddressBook from 'src/containers/addressBook/addressBook.container'\n\nfunction App(): JSX.Element {\n  const { account } = useEthers()\n\n  return <div className=\"main\">{account ? <AddressBook /> : <SignIn />}</div>\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals')\n      .then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n        getCLS(onPerfEntry)\n        getFID(onPerfEntry)\n        getFCP(onPerfEntry)\n        getLCP(onPerfEntry)\n        getTTFB(onPerfEntry)\n      })\n      // eslint-disable-next-line no-console\n      .catch((error) => console.log('reportWebVitals', error))\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { DAppProvider } from '@usedapp/core'\n\nimport App from './app'\nimport './index.css'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <DAppProvider config={{}}>\n      <App />\n    </DAppProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}